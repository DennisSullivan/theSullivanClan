/* FILE: ui/domino.css
   Purpose: 3x3 pip grid and die-face mapping for .half[data-pip="N"]
   Drop-in: paste into your main stylesheet or import as domino.css
*/

/* Container for the 3x3 pip layout */
.pip-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 0.15rem;
  width: 2.4rem;    /* adjust to match domino size */
  height: 2.4rem;   /* adjust to match domino size */
  box-sizing: border-box;
  align-items: center;
  justify-items: center;
}

/* Map pip classes to grid cells */
.pip.p1 { grid-column: 1; grid-row: 1; } /* top-left */
.pip.p2 { grid-column: 3; grid-row: 1; } /* top-right */
.pip.p3 { grid-column: 1; grid-row: 2; } /* middle-left */
.pip.p4 { grid-column: 3; grid-row: 2; } /* middle-right */
.pip.p5 { grid-column: 1; grid-row: 3; } /* bottom-left */
.pip.p6 { grid-column: 3; grid-row: 3; } /* bottom-right */
.pip.p7 { grid-column: 2; grid-row: 2; } /* center */

/* Base pip appearance */
.pip {
  width: 0.45rem;
  height: 0.45rem;
  border-radius: 50%;
  background: #111;
  opacity: 0;
  transition: opacity 120ms ease, transform 120ms ease;
  justify-self: center;
  align-self: center;
}

/* Optional: slightly larger center pip for readability */
.pip.p7 { width: 0.5rem; height: 0.5rem; }

/* Ensure half container doesn't collapse and centers the grid */
.half {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  padding: 0.15rem;
}

/* Die-face visibility rules (standard dice mapping) */
/* 0: none */
.half[data-pip="0"] .pip { opacity: 0; }

/* 1: center */
.half[data-pip="1"] .p7 { opacity: 1; }

/* 2: top-left + bottom-right */
.half[data-pip="2"] .p1,
.half[data-pip="2"] .p6 { opacity: 1; }

/* 3: top-left + center + bottom-right */
.half[data-pip="3"] .p1,
.half[data-pip="3"] .p7,
.half[data-pip="3"] .p6 { opacity: 1; }

/* 4: four corners */
.half[data-pip="4"] .p1,
.half[data-pip="4"] .p2,
.half[data-pip="4"] .p5,
.half[data-pip="4"] .p6 { opacity: 1; }

/* 5: four corners + center */
.half[data-pip="5"] .p1,
.half[data-pip="5"] .p2,
.half[data-pip="5"] .p5,
.half[data-pip="5"] .p6,
.half[data-pip="5"] .p7 { opacity: 1; }

/* 6: three left + three right (no center) */
.half[data-pip="6"] .p1,
.half[data-pip="6"] .p3,
.half[data-pip="6"] .p5,
.half[data-pip="6"] .p2,
.half[data-pip="6"] .p4,
.half[data-pip="6"] .p6 { opacity: 1; }

/* Theme tweaks (optional) */
.half .pip { background: var(--pip-color, #111); }
